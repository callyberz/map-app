(this["webpackJsonpmap-app"]=this["webpackJsonpmap-app"]||[]).push([[0],{151:function(e,a,n){e.exports=n(170)},156:function(e,a,n){},169:function(e,a,n){},170:function(e,a,n){"use strict";n.r(a);var t=n(30),l=n.n(t),i=n(139),c=n.n(i),s=(n(156),n(131)),u=n(132),o=n(133),m=n(148),r=n(147),h=n(75),d=n(90),p=n(137),g=n(149),v=n(136),f=n.n(v),E=[{district:"Kwai Tsing",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"3124"},{nameEn:"Macaranga tanarius",nameZh:"\u8840\u6850",quantity:"438"},{nameEn:"Bauhinia",nameZh:"\u7f8a\u8e44\u7532\u5c6c",quantity:"423"},{nameEn:"Aleurites moluccana",nameZh:"\u77f3\u6817",quantity:"381"},{nameEn:"Ficus hispida",nameZh:"\u5c0d\u8449\u6995",quantity:"348"}]},{district:"Tseun Wan",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"1843"},{nameEn:"Macaranga tanarius",nameZh:"\u8840\u6850",quantity:"254"},{nameEn:"Dimocarpus longan",nameZh:"\u9f8d\u773c",quantity:"190"},{nameEn:"Sterculia lanceolata",nameZh:"\u5047\u860b\u5a46",quantity:"189"},{nameEn:"Celtis sinensis",nameZh:"\u6734\u6a39",quantity:"172"}]},{district:"Sha Tin",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"2329"},{nameEn:"Lophostemon confertus",nameZh:"\u7d05\u81a0\u6728",quantity:"553"},{nameEn:"Machilus",nameZh:"\u6f64\u6960\u5c6c",quantity:"550"},{nameEn:"Schefflera octophylla",nameZh:"\u9d5d\u638c\u67f4",quantity:"494"},{nameEn:"Mallotus paniculatus",nameZh:"\u767d\u6978",quantity:"329"}]},{district:"Sai Kung",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"1167"},{nameEn:"Schefflera octophylla",nameZh:"\u9d5d\u638c\u67f4",quantity:"781"},{nameEn:"Mallotus paniculatus",nameZh:"\u767d\u6978",quantity:"213"},{nameEn:"Sterculia lanceolata",nameZh:"\u5047\u860b\u5a46",quantity:"179"},{nameEn:"Machilus chekiangensis",nameZh:"\u6d59\u6c5f\u6f64\u6960",quantity:"171"}]},{district:"Tuen Mun",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"2217"},{nameEn:"Acacia auriculiformis",nameZh:"\u5927\u8449\u76f8\u601d",quantity:"564"},{nameEn:"Acacia mangium",nameZh:"\u8033\u679c\u76f8\u601d",quantity:"481"},{nameEn:"Melaleuca quinquenervia",nameZh:"\u767d\u5343\u5c64",quantity:"454"},{nameEn:"Macaranga tanarius",nameZh:"\u8840\u6850",quantity:"422"}]},{district:"Yuen Long",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"2217"},{nameEn:"Acacia auriculiformis",nameZh:"\u5927\u8449\u76f8\u601d",quantity:"564"},{nameEn:"Acacia mangium",nameZh:"\u8033\u679c\u76f8\u601d",quantity:"481"},{nameEn:"Melaleuca quinquenervia",nameZh:"\u767d\u5343\u5c64",quantity:"454"},{nameEn:"Macaranga tanarius",nameZh:"\u8840\u6850",quantity:"422"}]},{district:"North",trees:[{nameEn:"Acacia confusa",nameZh:"\u53f0\u7063\u76f8\u601d",quantity:"3652"},{nameEn:"Schefflera octophylla",nameZh:"\u9d5d\u638c\u67f4",quantity:"2257"},{nameEn:"Lophostemon confertus",nameZh:"\u7d05\u81a0\u6728",quantity:"1855"},{nameEn:"Machilus",nameZh:"\u6f64\u6960\u5c6c",quantity:"1491"},{nameEn:"Eucalyptus",nameZh:"\u6849\u6a39",quantity:"1137"}]}],y=n(140);n(169);var q=function(e){var a=Object(t.useState)(!1),n=Object(y.a)(a,2),i=n[0],c=n[1],s=Object(t.useState)(null),u=Object(y.a)(s,2),o=u[0],m=u[1],r=[{name:"Acacia confusa",cellulose:39.78,hemicellulose:21.11,lignin:22.2},{name:"Macaranga tanarius",cellulose:38.19,hemicellulose:28.8,lignin:34.11},{name:"Bauhinia",cellulose:33.09,hemicellulose:29.88,lignin:22.73},{name:"Aleurites moluccana",cellulose:43.33,hemicellulose:22.45,lignin:28.91},{name:"Ficus hispida",cellulose:40.75,hemicellulose:35.44,lignin:28.91},{name:"Dimocarpus longan",cellulose:39.14,hemicellulose:28.17,lignin:25.14},{name:"Sterculia lanceolata",cellulose:38.68,hemicellulose:29.51,lignin:24.32},{name:"Celtis sinensis",cellulose:41.39,hemicellulose:29.82,lignin:21.68},{name:"Lophostemon confertus",cellulose:40.79,hemicellulose:34.66,lignin:26.85},{name:"Machilus",cellulose:44.62,hemicellulose:27.86,lignin:18.47},{name:"Schefflera octophylla",cellulose:36.67,hemicellulose:27.88,lignin:31.23},{name:"Mallotus paniculatus",cellulose:43.52,hemicellulose:36.02,lignin:18.7},{name:"Machilus chekiangensis",cellulose:46.55,hemicellulose:25.32,lignin:17.22},{name:"Acacia auriculiformis",cellulose:36.67,hemicellulose:27.88,lignin:31.23},{name:"Eucalyptus",cellulose:40.24,hemicellulose:14.84,lignin:22.26},{name:"Acacia mangium",cellulose:41.71,hemicellulose:32.29,lignin:33.33},{name:"Melaleuca quinquenervia",cellulose:38.96,hemicellulose:24.37,lignin:30.66}],d=function(e){var a=e.selectedItem,n=r.find((function(e){return e.name==a}));return l.a.createElement("div",null,n.name,l.a.createElement("ul",null,l.a.createElement("li",null,"Cellulose: ",n.cellulose),l.a.createElement("li",null,"Hemicellulose: ",n.hemicellulose),l.a.createElement("li",null,"Lignin: ",n.lignin)))},g=function(){c(!i)};Object(t.useLayoutEffect)((function(){var a=h.d("piechartdiv",p.a);a.paddingRight=50,a.paddingLeft=50,a.radius=h.e(50);var n=e.data[0].trees;if(n&&n.length>0){a.data=n;var t=a.series.push(new p.b);t.alignLabels=!1,t.dataFields.value="quantity",t.dataFields.category="nameEn",t.labels.template.maxWidth=130,t.labels.template.wrap=!0,t.labels.template.html="<div>{nameEn}: {quantity}</div>",a.current=a,t.slices.template.events.on("hit",(function(e){m(e.target.dataItem.dataContext.nameEn),c(!0)}))}return function(){a.dispose()}}),[]);var v=e.data[0].district;return l.a.createElement("div",{className:"piechartRoot"},"".concat(v," district"),l.a.createElement("div",{id:"piechartdiv",style:{width:"100%",height:"500px"}}),l.a.createElement(f.a,{isOpen:i,onRequestClose:g,ariaHideApp:!1,className:"secondModal",overlayClassName:"myoverlay"},l.a.createElement("div",{className:"treeDetail"},l.a.createElement(d,{selectedItem:o}),l.a.createElement("div",{className:"closeButtonWrapper"},l.a.createElement("button",{onClick:g},"Close")))))};h.f(g.a);var Z=function(e){Object(m.a)(n,e);var a=Object(r.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).state={selectedDistrict:null,districtName:null,selectedDistrictData:null,showModal:!1},t.handleCloseModal=t.handleCloseModal.bind(Object(o.a)(t)),t}return Object(u.a)(n,[{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"componentDidMount",value:function(){var e=this,a=h.d("chartdiv",d.a);a.geodataSource.url="/hongkong.json",a.geodataSource.events.on("parseended",(function(e){for(var a=[],t=0;t<e.target.data.features.length;t++){a.push({id:e.target.data.features[t].id,value:"0"})}n.data=a})),a.projection=new d.e.Mercator,a.zoomControl=new d.d,a.homeZoomLevel=1;var n=a.series.push(new d.c);n.mapPolygons.template.strokeWidth=.5,n.useGeodata=!0;var t=n.mapPolygons.template;t.tooltipHTML="<div>{name} district</div>",t.fill=h.c("#aac4e7"),t.states.create("hover").properties.fill=a.colors.getIndex(0),t.states.create("active").properties.fill=a.colors.getIndex(1);var l=E;t.events.on("hit",(function(a){var n=a.target.dataItem.dataContext.name,t=l.filter((function(e){return e.district==n}));t&&t.length>0?e.setState({selectedDistrictData:t,showModal:!0}):e.setState({showModal:!1})}));var i=a.series.push(new d.b),c=i.mapImages.template.createChild(h.b);c.horizontalCenter="middle",c.verticalCenter="middle",c.fontSize=12,c.interactionsEnabled=!1,c.nonScaling=!0;var s=a.series.push(new d.b),u=s.mapImages.template.createChild(h.a);u.href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-160/marker.svg",u.width=20,u.height=20,u.nonScaling=!0,u.tooltipText="{title}",u.horizontalCenter="middle",u.verticalCenter="bottom",n.calculateVisualCenter=!0;var o=["Tuen Mun","Yuen Long","North","Sai Kung","Sha Tin","Tseun Wan","Kwai Tsing"];n.events.on("datavalidated",(function(){n.mapPolygons.each((function(e){var a=e.dataItem.dataContext.name,n=i.mapImages.create(),t="".concat(a);n.latitude=e.visualLatitude,n.longitude=e.visualLongitude,n.fontWeight=500,n.children.getIndex(0).text=t,o.map((function(l){if(l==a){var i=s.mapImages.create();i.latitude=e.visualLatitude,i.longitude=e.visualLongitude,n.children.getIndex(0).text=t}}))}))}))}},{key:"componentDidUpdate",value:function(e,a){}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){var e=this.state,a=e.selectedDistrictData,n=e.showModal;return l.a.createElement("div",null,l.a.createElement("div",{id:"chartdiv",style:{width:"100%",height:"750px"}}),l.a.createElement(f.a,{isOpen:n,onRequestClose:this.handleCloseModal,ariaHideApp:!1,closeTimeoutMS:500},l.a.createElement("button",{onClick:this.handleCloseModal},"Close"),l.a.createElement(q,{data:a})))}}]),n}(t.Component);c.a.render(l.a.createElement(Z,null),document.getElementById("root"))}},[[151,1,4]]]);
//# sourceMappingURL=main.f5c5fdf2.chunk.js.map