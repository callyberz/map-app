{"version":3,"sources":["data/tree.js","PieChart.js","App.js","index.js"],"names":["PieChart","props","useState","showSecondModal","setshowSecondModal","treeName","settreeName","treeChemCompo","name","cellulose","hemicellulose","lignin","TreeDetail","selectedItem","temp","find","v","handleCloseModal","useLayoutEffect","chart","am4core","am4charts","paddingRight","paddingLeft","radius","trees","data","length","series","push","alignLabels","dataFields","value","category","labels","template","maxWidth","wrap","html","current","slices","events","on","event","target","dataItem","dataContext","nameEn","dispose","district","className","id","style","width","height","isOpen","onRequestClose","ariaHideApp","overlayClassName","onClick","am4themes_animated","App","state","selectedDistrict","districtName","selectedDistrictData","showModal","bind","this","setState","am4maps","geodataSource","url","i","features","polygonSeries","projection","Mercator","zoomControl","homeZoomLevel","mapPolygons","strokeWidth","useGeodata","polygonTemplate","tooltipHTML","fill","states","create","properties","colors","getIndex","allDistricts","tree","console","log","filter","labelSeries","labelTemplate","mapImages","createChild","horizontalCenter","verticalCenter","fontSize","interactionsEnabled","nonScaling","markerSeries","marker","href","tooltipText","calculateVisualCenter","districtHasData","each","polygon","dis","label","latitude","visualLatitude","longitude","visualLongitude","fontWeight","children","text","map","prevProps","prevState","closeTimeoutMS","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.63698577.chunk.js","sourcesContent":["export default {\n    \"districts\": [\n        {\n            \"district\": \"Kwai Tsing\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"3124\",\n                },\n                {\n                    \"nameEn\": \"Macaranga tanarius\",\n                    \"nameZh\": \"血桐\",\n                    \"quantity\": \"438\"\n                },\n                {\n                    \"nameEn\": \"Bauhinia\",\n                    \"nameZh\": \"羊蹄甲屬\",\n                    \"quantity\": \"423\"\n                },\n                {\n                    \"nameEn\": \"Aleurites moluccana\",\n                    \"nameZh\": \"石栗\",\n                    \"quantity\": \"381\"\n                },\n                {\n                    \"nameEn\": \"Ficus hispida\",\n                    \"nameZh\": \"對葉榕\",\n                    \"quantity\": \"348\"\n                }\n            ]\n        },\n        {\n            \"district\": \"Tsuen Wan\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"1843\"\n                },\n                {\n                    \"nameEn\": \"Macaranga tanarius\",\n                    \"nameZh\": \"血桐\",\n                    \"quantity\": \"254\"\n                },\n                {\n                    \"nameEn\": \"Dimocarpus longan\",\n                    \"nameZh\": \"龍眼\",\n                    \"quantity\": \"190\"\n                },\n                {\n                    \"nameEn\": \"Sterculia lanceolata\",\n                    \"nameZh\": \"假蘋婆\",\n                    \"quantity\": \"189\"\n                },\n                {\n                    \"nameEn\": \"Celtis sinensis\",\n                    \"nameZh\": \"朴樹\",\n                    \"quantity\": \"172\"\n                }\n            ]\n        },\n        {\n            \"district\": \"Sha Tin\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"2329\"\n                },\n                {\n                    \"nameEn\": \"Lophostemon confertus\",\n                    \"nameZh\": \"紅膠木\",\n                    \"quantity\": \"553\"\n                },\n                {\n                    \"nameEn\": \"Machilus\",\n                    \"nameZh\": \"潤楠屬\",\n                    \"quantity\": \"550\"\n                },\n                {\n                    \"nameEn\": \"Schefflera octophylla\",\n                    \"nameZh\": \"鵝掌柴\",\n                    \"quantity\": \"494\"\n                },\n                {\n                    \"nameEn\": \"Mallotus paniculatus\",\n                    \"nameZh\": \"白楸\",\n                    \"quantity\": \"329\"\n                }\n            ]\n        },\n        {\n            \"district\": \"Sai Kung\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"1167\"\n                },\n                {\n                    \"nameEn\": \"Schefflera octophylla\",\n                    \"nameZh\": \"鵝掌柴\",\n                    \"quantity\": \"781\"\n                },\n                {\n                    \"nameEn\": \"Mallotus paniculatus\",\n                    \"nameZh\": \"白楸\",\n                    \"quantity\": \"213\"\n                },\n                {\n                    \"nameEn\": \"Sterculia lanceolata\",\n                    \"nameZh\": \"假蘋婆\",\n                    \"quantity\": \"179\"\n                },\n                {\n                    \"nameEn\": \"Machilus chekiangensis\",\n                    \"nameZh\": \"浙江潤楠\",\n                    \"quantity\": \"171\"\n                }\n            ]\n        },\n        {\n            \"district\": \"Tuen Mun\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"2217\"\n                },\n                {\n                    \"nameEn\": \"Acacia auriculiformis\",\n                    \"nameZh\": \"大葉相思\",\n                    \"quantity\": \"564\"\n                },\n                {\n                    \"nameEn\": \"Acacia mangium\",\n                    \"nameZh\": \"耳果相思\",\n                    \"quantity\": \"481\"\n                },\n                {\n                    \"nameEn\": \"Melaleuca quinquenervia\",\n                    \"nameZh\": \"白千層\",\n                    \"quantity\": \"454\"\n                },\n                {\n                    \"nameEn\": \"Macaranga tanarius\",\n                    \"nameZh\": \"血桐\",\n                    \"quantity\": \"422\"\n                }\n            ]\n        },\n        {\n            \"district\": \"Yuen Long\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"2217\"\n                },\n                {\n                    \"nameEn\": \"Acacia auriculiformis\",\n                    \"nameZh\": \"大葉相思\",\n                    \"quantity\": \"564\"\n                },\n                {\n                    \"nameEn\": \"Acacia mangium\",\n                    \"nameZh\": \"耳果相思\",\n                    \"quantity\": \"481\"\n                },\n                {\n                    \"nameEn\": \"Melaleuca quinquenervia\",\n                    \"nameZh\": \"白千層\",\n                    \"quantity\": \"454\"\n                },\n                {\n                    \"nameEn\": \"Macaranga tanarius\",\n                    \"nameZh\": \"血桐\",\n                    \"quantity\": \"422\"\n                }\n            ]\n        },\n        {\n            \"district\": \"North\",\n            \"trees\": [\n                {\n                    \"nameEn\": \"Acacia confusa\",\n                    \"nameZh\": \"台灣相思\",\n                    \"quantity\": \"3652\"\n                },\n                {\n                    \"nameEn\": \"Schefflera octophylla\",\n                    \"nameZh\": \"鵝掌柴\",\n                    \"quantity\": \"2257\"\n                },\n                {\n                    \"nameEn\": \"Lophostemon confertus\",\n                    \"nameZh\": \"紅膠木\",\n                    \"quantity\": \"1855\"\n                },\n                {\n                    \"nameEn\": \"Machilus\",\n                    \"nameZh\": \"潤楠屬\",\n                    \"quantity\": \"1491\"\n                },\n                {\n                    \"nameEn\": \"Eucalyptus\",\n                    \"nameZh\": \"桉樹\",\n                    \"quantity\": \"1137\"\n                }\n            ]\n        }   \n    ]\n}","import React, { useState, useRef, useLayoutEffect } from 'react';\nimport ReactModal from \"react-modal\"\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport \"./PieChart.css\";\n\nfunction PieChart(props) {\n    // const chart = useRef(null);\n    const [showSecondModal, setshowSecondModal] = useState(false);\n    const [treeName, settreeName] = useState(null);\n    const treeChemCompo = [\n        { name: \"Acacia confusa\", cellulose: 39.78, hemicellulose: 21.11, lignin: 22.2 },\n        { name: \"Macaranga tanarius\", cellulose: 38.19, hemicellulose: 28.8, lignin: 34.11 },\n        { name: \"Bauhinia\", cellulose: 33.09, hemicellulose: 29.88, lignin: 22.73 },\n        { name: \"Aleurites moluccana\", cellulose: 43.33, hemicellulose: 22.45, lignin: 28.91 },\n        { name: \"Ficus hispida\", cellulose: 40.75, hemicellulose: 35.44, lignin: 28.91 },\n        { name: \"Dimocarpus longan\", cellulose: 39.14, hemicellulose: 28.17, lignin: 25.14 },\n        { name: \"Sterculia lanceolata\", cellulose: 38.68, hemicellulose: 29.51, lignin: 24.32 },\n        { name: \"Celtis sinensis\", cellulose: 41.39, hemicellulose: 29.82, lignin: 21.68 },\n        { name: \"Lophostemon confertus\", cellulose: 40.79, hemicellulose: 34.66, lignin: 26.85 },\n        { name: \"Machilus\", cellulose: 44.62, hemicellulose: 27.86, lignin: 18.47 },\n        { name: \"Schefflera octophylla\", cellulose: 36.67, hemicellulose: 27.88, lignin: 31.23 },\n        { name: \"Mallotus paniculatus\", cellulose: 43.52, hemicellulose: 36.02, lignin: 18.7 },\n        { name: \"Machilus chekiangensis\", cellulose: 46.55, hemicellulose: 25.32, lignin: 17.22 },\n        { name: \"Acacia auriculiformis\", cellulose: 36.67, hemicellulose: 27.88, lignin: 31.23 },\n        { name: \"Eucalyptus\", cellulose: 40.24, hemicellulose: 14.84, lignin: 22.26 },\n        { name: \"Acacia mangium\", cellulose: 41.71, hemicellulose: 32.29, lignin: 33.33 },\n        { name: \"Melaleuca quinquenervia\", cellulose: 38.96, hemicellulose: 24.37, lignin: 30.66 },\n    ]\n\n    const TreeDetail = ({ selectedItem }) => {\n        const temp = treeChemCompo.find(v => v.name == selectedItem)\n        return (\n            <div>\n                {temp.name}\n                <section>Chemical Composition (%)</section>\n                <ul>\n                    <li>Cellulose: {temp.cellulose}</li>\n                    <li>Hemicellulose: {temp.hemicellulose}</li>\n                    <li>Lignin: {temp.lignin}</li>\n                </ul>\n            </div>\n        )\n    }\n\n    const handleCloseModal = () => {\n        setshowSecondModal(!showSecondModal)\n    }\n\n    useLayoutEffect(() => {\n        let chart = am4core.create(\"piechartdiv\", am4charts.PieChart);\n        chart.paddingRight = 50;\n        chart.paddingLeft = 50;\n        chart.radius = am4core.percent(50);\n\n        const { trees } = props.data[0];\n        if (trees && trees.length > 0) {\n            chart.data = trees;\n            // Create series\n            let series = chart.series.push(new am4charts.PieSeries());\n            series.alignLabels = false;\n            series.dataFields.value = \"quantity\";\n            series.dataFields.category = \"nameEn\";\n            // series.labels.template.fontSize = 14;\n            series.labels.template.maxWidth = 130;\n            series.labels.template.wrap = true;\n            series.labels.template.html = \"<div>{nameEn}: {quantity}</div>\";\n            chart.current = chart;\n\n            series.slices.template.events.on(\"hit\", (event) => {\n                // event.target is the clicked Slice\n                settreeName(event.target.dataItem.dataContext.nameEn)\n                setshowSecondModal(true)\n            });\n        }\n        return () => {\n            chart.dispose();\n        };\n    }, []);\n\n    const { district } = props.data[0]\n    return (\n        <div className=\"piechartRoot\">\n            {`${district} district`}\n            <div id=\"piechartdiv\" style={{ width: \"100%\", height: \"500px\" }}>\n            </div>\n            <ReactModal\n                isOpen={showSecondModal}\n                onRequestClose={handleCloseModal}\n                ariaHideApp={false}\n                className=\"secondModal\"\n                overlayClassName=\"myoverlay\"\n            >\n                <div className=\"treeDetail\">\n                    <TreeDetail selectedItem={treeName} />\n                    <div className=\"closeButtonWrapper\">\n                        <button onClick={handleCloseModal}>Close</button>\n                    </div>\n                </div>\n            </ReactModal>\n        </div>\n\n    );\n}\nexport default PieChart;","import React, { Component } from 'react';\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\nimport ReactModal from \"react-modal\"\nimport tree from \"./data/tree\"\n\nimport PieChart from \"./PieChart\";\n\n// Themes begin\nam4core.useTheme(am4themes_animated);\n// Themes end\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // Don't call this.setState() here!\n    this.state = {\n      selectedDistrict: null,\n      districtName: null,\n      selectedDistrictData: null,\n      showModal: false\n    };\n    // this.handleOpenModal = this.handleOpenModal.bind(this);\n    this.handleCloseModal = this.handleCloseModal.bind(this);\n  }\n\n  handleCloseModal() {\n    this.setState({ showModal: false });\n  }\n\n  componentDidMount() {\n    // Create map instance\n    var chart = am4core.create(\"chartdiv\", am4maps.MapChart);\n\n    // Set map definition\n    chart.geodataSource.url = \"./hongkong.json\";\n    chart.geodataSource.events.on(\"parseended\", function (event) {\n      let data = [];\n      for (var i = 0; i < event.target.data.features.length; i++) {\n        // const districtName = event.target.data.features[i].properties.name;\n        let valuetoDisplay = \"0\"\n\n        // tree['districts'].map(v => {\n        //   if (v.district === districtName) {\n        //     valuetoDisplay = \"111\";\n        //   }\n        //   // console.log(v)\n        // })\n        data.push({\n          id: event.target.data.features[i].id,\n          value: valuetoDisplay\n          // value: Math.round(Math.random() * 10000)\n        })\n      }\n      polygonSeries.data = data;\n    })\n\n    // Set projection\n    chart.projection = new am4maps.projections.Mercator();\n\n    // Add zoom control\n    chart.zoomControl = new am4maps.ZoomControl();\n\n    // Set initial zoom\n    chart.homeZoomLevel = 1;\n\n    // Create map polygon series\n    var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());\n    polygonSeries.mapPolygons.template.strokeWidth = 0.5;\n\n\n    // Make map load polygon (like country names) data from GeoJSON\n    polygonSeries.useGeodata = true;\n\n    // Configure series\n    var polygonTemplate = polygonSeries.mapPolygons.template;\n\n    polygonTemplate.tooltipHTML = `<div>{name} district</div>`;\n    polygonTemplate.fill = am4core.color(\"#aac4e7\");\n\n    // Create hover state and set alternative fill color\n    var hs = polygonTemplate.states.create(\"hover\");\n    hs.properties.fill = chart.colors.getIndex(0);\n\n    // Create active state\n    var activeState = polygonTemplate.states.create(\"active\");\n    activeState.properties.fill = chart.colors.getIndex(1);\n\n    const allDistricts = tree[\"districts\"];\n    console.log(allDistricts)\n\n    // Create an event to toggle \"active\" state\n    polygonTemplate.events.on(\"hit\", (event) => {\n      const districtName = event.target.dataItem.dataContext.name;\n      const selectedDistrictData = allDistricts.filter(v => v.district == districtName)\n      if (selectedDistrictData && selectedDistrictData.length > 0) {\n        this.setState({\n          selectedDistrictData: selectedDistrictData,\n          showModal: true\n        })\n      } else {\n        this.setState({\n          showModal: false\n        })\n      }\n      // event.target.isActive = !event.target.isActive;\n    })\n\n\n    var labelSeries = chart.series.push(new am4maps.MapImageSeries());\n    var labelTemplate = labelSeries.mapImages.template.createChild(am4core.Label);\n    labelTemplate.horizontalCenter = \"middle\";\n    labelTemplate.verticalCenter = \"middle\";\n    labelTemplate.fontSize = 12;\n    labelTemplate.interactionsEnabled = false;\n    labelTemplate.nonScaling = true;\n\n    var markerSeries = chart.series.push(new am4maps.MapImageSeries());\n    var marker = markerSeries.mapImages.template.createChild(am4core.Image);\n    marker.href = \"https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-160/marker.svg\";\n    marker.width = 20;\n    marker.height = 20;\n    marker.nonScaling = true;\n    marker.tooltipText = \"{title}\";\n    marker.horizontalCenter = \"middle\";\n    marker.verticalCenter = \"bottom\";\n\n    // Set calculateVisualCenter to true in order to get the centriod of the polygon\n    polygonSeries.calculateVisualCenter = true;\n\n    const districtHasData = [\"Tuen Mun\", \"Yuen Long\", \"North\", \"Sai Kung\", \"Sha Tin\", \"Tsuen Wan\", \"Kwai Tsing\"]\n\n    // Set up label series to populate\n    polygonSeries.events.on(\"datavalidated\", function () {\n      polygonSeries.mapPolygons.each(function (polygon) {\n        const dis = polygon.dataItem.dataContext.name\n\n        // plot district name\n        let label = labelSeries.mapImages.create();\n        let state = `${dis}`\n        label.latitude = polygon.visualLatitude;\n        label.longitude = polygon.visualLongitude;\n        label.fontWeight = 500;\n        label.children.getIndex(0).text = state;\n\n        // plot marker for district has data\n        districtHasData.map(v => {\n          if (v == dis) {\n            let marker = markerSeries.mapImages.create();\n            marker.latitude = polygon.visualLatitude;\n            marker.longitude = polygon.visualLongitude;\n            label.children.getIndex(0).text = state;\n          }\n        })\n\n      });\n    });\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n  }\n\n  componentWillUnmount() {\n    if (this.chart) {\n      this.chart.dispose();\n    }\n  }\n\n  render() {\n    const { selectedDistrictData, showModal } = this.state;\n    return (\n      <div>\n        <div id=\"chartdiv\" style={{ width: \"100%\", height: \"750px\" }}></div>\n        <ReactModal\n          isOpen={showModal}\n          onRequestClose={this.handleCloseModal}\n          ariaHideApp={false}\n          closeTimeoutMS={500}\n        >\n          <button onClick={this.handleCloseModal}>Close</button>\n          <PieChart\n            data={selectedDistrictData} />\n        </ReactModal>\n      </div>\n    )\n  }\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}